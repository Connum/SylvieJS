var m=Object.defineProperty;var o=(t,e)=>m(t,"name",{value:e,configurable:!0}),u=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,s)=>(typeof require<"u"?require:e)[s]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')});var a=class{constructor(){try{this.fs=u("fs")}catch(e){this.fs=null}}loadDatabase(e,s){let n=this;this.fs.stat(e,(i,r)=>{!i&&r.isFile()?n.fs.readFile(e,{encoding:"utf8"},o(function(l,c){s(l?new Error(l):c)},"readFileCallback")):s(null)})}saveDatabase(e,s,n){let i=this,r=`${e}~`;this.fs.writeFile(r,s,o(function(l){l?n(new Error(l)):i.fs.rename(r,e,n)},"writeFileCallback"))}deleteDatabase(e,s){this.fs.unlink(e,o(function(i){i?s(new Error(i)):s()},"deleteDatabaseCallback"))}};o(a,"FsAdapter");export{a as FsAdapter};
//# sourceMappingURL=fs-adapter.js.map
